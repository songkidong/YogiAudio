<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper
	namespace="com.project3.yogiaudio.repository.interfaces.board.NoticeRepository">

	<insert id="insertNotice">
		insert into board_notice (writer_id, title, content, file_path) <!-- db -->
		values (#{writerId}, #{title}, #{content}, #{filePath}) <!--entity = 파라미터값과 
			같아야 함 -->
	</insert>

	<select id="findByNoticeAndPagingAndSelect"
		resultType="com.project3.yogiaudio.repository.entity.board.BoardNotice">
		select * from board_notice
		<if test="searchType == 'title'">
			where title like CONCAT('%',#{searchInput},'%')
		</if>
		<if test="searchType == 'content'">
			where content like CONCAT('%',#{searchInput},'%')
		</if>
		<if test="searchType == 'createdAt'">
			where createdAt like CONCAT('%',#{searchInput},'%')
		</if>
		<if test="searchType == null">
			<!-- If no search type is specified, fetch all records -->
		</if>
		limit #{limit} offset #{offset}
	</select>


</mapper>